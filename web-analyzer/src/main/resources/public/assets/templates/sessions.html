<div class="page-header"><h2>{{title}}</h2></div>

<appsessionrec on-data-view-updated="onDataViewUpdated"></appsessionrec>

<div class="panel panel-default">
	<div class="panel-heading">
		<h3 class="panel-title">Session information</h3>
	</div>
	<div class="panel-body">
		<ul class="list-group">
			<li class="list-group-item">
				<span class="badge">{{session.jvmSamples}}</span>
				JVM monitoring samples
			</li>
			<li class="list-group-item">
				<span class="badge">{{session.methods}}</span>
				Methods instrumented
			</li>
			<li class="list-group-item">
				<span class="badge">{{session.statisticsSamples}}</span>
				Method calls
			</li>
			<li class="list-group-item">
				<span class="badge">{{session.records}}</span>
				Records in session
			</li>
		</ul>
	</div>
</div>
<div>
	<div class="panel panel-danger">
		<div class="panel-heading">
			<div class="panel-title">Automatic actions</div>
		</div>
		<div class="panel-body">
			<div class="btn-toolbar" role="toolbar" aria-label="autoactions">
				<div class="btn-group" role="group" aria-label="automonitoring">
					<div class="well well-sm">
						<span class="label" ng-class="{'label-success':automonitoring=='true', 'label-default':automonitoring=='false'}">Monitoring {{automonitoring}}</span>
						<button type="button" ng-click="startAutoMonitoring()"><span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> AutoMonitoring</button>
						<button type="button" ng-click="stopAutoMonitoring()"><span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span> AutoMonitoring</button>
					</div>
				</div>
				<div class="btn-group" role="group" aria-label="autoprofiling">
					<div class="well well-sm">
					<span class="label" ng-class="{'label-success':autoprofiling=='true', 'label-default':autoprofiling=='false'}">Profiling {{autoprofiling}}</span>
					<button type="button" ng-click="startAutoProfiling()"><span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> Auto Profiling</button>
					<button type="button" ng-click="stopAutoProfiling()"><span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span> AutoProfiling</button>
					</div>
				</div>
				<div class="btn-group" role="group" aria-label="flush">
					<div class="well well-sm">
						<button type="button" ng-click="flush()"><span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> Flush</button>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="panel panel-primary" ng-show="appId>0 && online">
		<div class="panel-heading">
			<div class="panel-title">Current app control. AppId: {{appId}} </div>
		</div>
		<div class="panel-body">
			<div class="btn-toolbar" role="toolbar" aria-label="actions">
				<div class="btn-group" role="group" aria-label="monitoring">
					<div class="well well-sm">
						<span class="label" ng-class="{'label-success':monitoring=='true', 'label-default':monitoring=='false'}">Monitoring {{monitoring}}</span>
						<button type="button" ng-click="startMonitoring()"><span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> Monitoring</button>
						<button type="button" ng-click="stopMonitoring()"><span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span> Monitoring</button>
					</div>
				</div>
				<div class="btn-group" role="group" aria-label="profiling">
					<div class="well well-sm">
						<span class="label" ng-class="{'label-success':profiling=='true', 'label-default':profiling=='false'}">Profiling {{profiling}}</span>
						<button type="button" ng-click="startProfiling()"><span class="glyphicon glyphicon-ok-circle" aria-hidden="true"></span> Profiling</button>
						<button type="button" ng-click="stopProfiling()"><span class="glyphicon glyphicon-ban-circle" aria-hidden="true"></span> Profiling</button>
					</div>
				</div>
			</div>
			<div class="btn-toolbar" role="toolbar" aria-label="recording" ng-show="sessionId>0">
				<div class="btn-group" role="group" aria-label="profiling">
					<button type="button" ng-click="newRecord()"><span class="glyphicon glyphicon-record" aria-hidden="true"></span> New record</button>
				</div>
			</div>
		</div>
	</div>

</div>
