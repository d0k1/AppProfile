<div class="page-header"><h2>{{title}}</h2></div>

<appsessionrec on-data-view-updated="onDataViewUpdated"></appsessionrec>
<div class="btn-toolbar" role="toolbar" aria-label="service">
	<div class="btn-group" role="group" aria-label="methods">
		<button type="button" data-ng-click="analyze()"><span class="glyphicon glyphicon-refresh" aria-hidden="true"></span> Update methods</button>
		Skip zeros <input type="checkbox" ng-model="skipZero" ng-change="onDataViewUpdated()">
	</div>
</div>
<div>
	<div ng-show="stack.length>0">
		<div class="btn-toolbar" role="toolbar" aria-label="stack">
			<div class="btn-group" role="group" aria-label="movement">
				<span>Stack movement: </span>
				<button type="button" ng-click="resetStack()"><span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span> Reset</button>
				<button type="button" ng-click="upStack()"><span class="glyphicon glyphicon-upload" aria-hidden="true"></span> Up</button>
			</div>
		</div>
		Stack
		<table class="table">
			<thead>
				<tr>
					<td></td>
					<td>Thread</td>
					<td>Method</td>
					<td>Nanos</td>
					<td>Millis</td>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="method in stack">
					<td><span class="glyphicon glyphicon-minus" aria-hidden="true"></span></td>
					<td>{{method.threadId}}</td>
					<td>{{method.methodName}}</td>
					<td>{{method.finishTime-method.startTime}}</td>
					<td>{{method.finishtimestamp-method.starttimestamp}}</td>
				</tr>
			</tbody>
		</table>
	</div>
	<table class="table">
		<thead>
			<tr>
				<td></td>
				<td>Thread</td>
				<td>Method</td>
				<td>Nanos</td>
				<td>Millis</td>
				<td>Move</td>
			</tr>
		</thead>
		<tbody class=".table-striped">
			<tr ng-repeat="method in methods">
				<td><span class="glyphicon glyphicon-plus" aria-hidden="true"></span></td>
				<td>{{method.threadId}}</td>
				<td>{{method.methodName}}</td>
				<td>{{method.finishTime-method.startTime}}</td>
				<td>{{method.finishtimestamp-method.starttimestamp}}</td>
				<td>
					<div class="btn-toolbar" role="toolbar" aria-label="operation">
						<div class="btn-group" role="group" aria-label="stack-movement">
							<button type="button" ng-show="stack.length>0" ng-click="upStack()"><span class="glyphicon glyphicon-upload" aria-hidden="true"></span></button>
							<button type="button" ng-click="selectMethod(method)"><span class="glyphicon glyphicon-download" aria-hidden="true"></span></button>
						</div>
					</div>
				</td>
				<div id="parent_{{method.id}}" style="display: none"></div>
			</tr>
		</tbody>
	</table>
</div>
